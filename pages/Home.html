<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home</title>
  <link rel="stylesheet" href="Home.css">
  <link rel="stylesheet" href="../components/Topbar.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <div id="topbar-placeholder"></div>

  <div class="content-container">
    <h2>관리자님 환영합니다. 😊</h2>

    <div class="main-content">
      <div class="left-panel">
        <div class="tab-menu">
          <button class="tab-button active" onclick="openTab(event, 'notice')">공지사항</button>
          <button class="tab-button" onclick="openTab(event, 'task')">할 일</button>
        </div>

        <div id="notice" class="tab-content">
          <h3>공지사항 표시</h3>
          <p>공지사항 내용...</p>
        </div>

        <div id="task" class="tab-content" style="display:none">
          <div class="task-container">
            <i class="fas fa-user-circle"></i>
            <h3>새로운 할 일이 없습니다.</h3>
            <p>정한솔님에게 할 일이 생기면 여기서 알려드릴게요.</p>
          </div>
        </div>
      </div>

      <div class="right-panel">
        <h3>오늘 근무</h3>
        <div class="work-status">
          <p>출근: 08:55</p>
          <p>퇴근: --:--</p>
        </div>
        <div class="work-timer">
          <h1>05:04:58</h1>
          <p>근무</p>
          <p>09:00 - 18:00</p>
          <div class="schedule">
            <label for="schedule">예정 스케줄</label>
            <select id="schedule">
              <option>1</option>
            </select>
          </div>
          <button class="logout-button">지금 퇴근하기</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    async function fetchHtmlAsText(url) {
      return await (await fetch(url)).text();
    }

    async function importPage(target) {
      document.querySelector('#' + target).innerHTML = await fetchHtmlAsText(target + '.html');
    }

    function openTab(evt, tabName) {
      var i, tabcontent, tabbuttons;
      tabcontent = document.getElementsByClassName("tab-content");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tabbuttons = document.getElementsByClassName("tab-button");
      for (i = 0; i < tabbuttons.length; i++) {
        tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
      }
      document.getElementById(tabName).style.display = "block";
      evt.currentTarget.className += " active";
    }

    document.addEventListener('DOMContentLoaded', () => {
      importPage('topbar-placeholder');
    });
  </script>
</body>
</html>
